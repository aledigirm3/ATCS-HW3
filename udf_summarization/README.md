# UDF-summarization

The following User Defined Function is designed to generate a summary of reviews associated with a generic entity by leveraging a Large Language Model (LLM).
Its purpose is to assist users in evaluating a generic entity (such as a product, dish, location, etc.) more efficiently.

## Replicate the experiment

Install Python 3.11.11. Execute the following command.

```bash
git clone https://github.com/aledigirm3/ATCS-HW3.git
cd ATCS-HW3/udf_summarizaton
pip install -r requirements.txt
```

Before executing the scripts, you must create a .env file in the root directory of the project. Use the structure provided in the .env.example file, replacing 'GROQ_API_KEY' with your personal key obtained from Groq.
```env
# Example .env file
GROQ_API_KEY=your_groq_api_key_here
```

Navigate to the 'src' directory:

```bash
  cd src
```

Now run these script

```bash
  python summarization_udf.py
```

This script generates a summary of reviews for various entities stored in the tables within the GT folder by utilizing a Large Language Model (LLM) (deepseek-r1-distill-llama-70b) and saves the output in a JSON file named 'llmResponse.json'.

Before performing the system evaluation, the 'think' section within the responses generated by the LLM (found in the 'summary' fields of the file) must be removed. This section is formatted as \<think> ... \</think>.



## Evaluation

To perform the evaluation, simply execute the following script:

```bash
  python evaluation.py
```
Performance metrics are computed using 'BERTScore' and printed to the shell.
